# MINI PROJECT SQL



## SQL

![ERD](C:\Users\student\Desktop\ERD.png)

```sql
CREATE TABLE U_LIST
(
    ID      VARCHAR2(20)    NULL,
    PWD     VARCHAR2(20)    NULL, 
    NAME    VARCHAR2(20)    NULL, 
    UMODE   VARCHAR2(20)    NULL
)
ALTER TABLE U_LIST ADD PRIMARY KEY(ID)

CREATE TABLE PLAYER
(
    ID         NUMBER          NOT NULL, 
    PIC        VARCHAR2(20)    NULL, 
    NAME       VARCHAR2(20)    NULL, 
    POSITION   VARCHAR2(20)    NULL, 
    TEAM       VARCHAR2(20)    NULL, 
    CONSTRAINT PLAYER_PK PRIMARY KEY (ID)
)
ALTER TABLE PLAYER ADD FOREIGN KEY (TEAM) REFERENCES TEAM(TNAME)

CREATE TABLE P_HISTORY
(
    TEAM       VARCHAR2(20)    NULL, 
    ERA        VARCHAR2(20)    NULL, 
    GAME       VARCHAR2(20)    NULL, 
    AVG        NUMBER          NULL, 
    HR         NUMBER          NULL, 
    HIT        NUMBER          NULL, 
    YEAR       NUMBER          NULL, 
    WPCT       NUMBER          NULL, 
    BACKNUM    NUMBER          NULL, 
    ID         NUMBER          NULL, 
    CONSTRAINT P_HISTORY_PK PRIMARY KEY (YEAR, ID)
)
ALTER TABLE P_HISTORY ADD FOREIGN KEY (ID) REFERENCES  PLAYER(ID)
        
CREATE TABLE TEAM
(
    TNAME       VARCHAR2(20)    NULL, 
    HSTA        VARCHAR2(20)    NULL, 
    DIRECTOR    VARCHAR2(20)    NULL, 
    ID          NUMBER          NULL, 
    VICTORY     NUMBER          NULL, 
    CONSTRAINT TEAM_PK PRIMARY KEY (ID)
)


CREATE TABLE T_HISTORY
(
    YEAR     NUMBER          NULL, 
    TEAM     VARCHAR2(20)    NULL, 
    GRADE    VARCHAR2(20)    NULL, 
    ID       NUMBER          NULL, 
    WGAME    NUMBER          NULL, 
    LGAME    NUMBER          NULL, 
    CONSTRAINT T_HISTORY_PK PRIMARY KEY (YEAR, ID)
)
ALTER TABLE T_HISTORY ADD FOREIGN KEY (ID) REFERENCES TEAM(ID)

CREATE SEQUENCE P_ID INCREMENT BY 1 START WITH 1
CREATE SEQUENCE T_ID INCREMENT BY 1 START WITH 1
```

```sql
INSERT INTO U_LIST VALUES('id01', 'pwd01', 'name01', 0)

INSERT INTO PLAYER VALUES(P_ID.NEXTVAL, 'pic00', '강백호', 'WIZ', 'H')
INSERT INTO PLAYER VALUES(P_ID.NEXTVAL, 'pic00', '양현종', 'TIGERS', 'P')
INSERT INTO TEAM VALUES ('WIZ', '수원 KT WIZ 파크', '이강철', T_ID.NEXTVAL, 0)	
INSERT INTO TEAM VALUES('TIGERS','광주기아 챔피언스필드','-',2,11)
INSERT INTO TEAM VALUES ('DINOS', '창원NC파크', '이동욱', T_ID.NEXTVAL, 0)
INSERT INTO P_HISTORY VALUES ('WIZ', NULL, 138, 0.290, 29, 153, 2018, NULL, 50, 1)	
INSERT INTO P_HISTORY VALUES ('WIZ', NULL, 135, 0.259, 4, 95, 2018, NULL, 2, 6)
INSERT INTO P_HISTORY VALUES ('WIZ', 5.06, 9, NULL, NULL, NULL, 2018, 0.667, 43, 2)S
INSERT INTO T_HISTORY VALUES (2018, 'WIZ', 9, 1, 59, 82, 3)
INSERT INTO T_HISTORY VALUES (2018, 'DINOS', 10, 5, 58, 85, 1)

```

```sql
DESC U_LIST
SELECT * FROM U_LIST

DESC PLAYER
SELECT * FROM PLAYER

DESC P_HISTORY
SELECT * FROM P_HISTORY ORDER BY ID ASC

DESC TEAM
SELECT * FROM TEAM

DESC T_HISTORY
SELECT * FROM T_HISTORY
```



